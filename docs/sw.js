self.addEventListener("push",(i=>{console.log("[SW] Push received"),i.waitUntil(async function(){let t={title:"Notifikasi",options:{body:"Ada pesan baru"}};if(i.data)try{t=await i.data.json()}catch{t={title:"Notifikasi",options:{body:i.data.text()}}}await self.registration.showNotification(t.title,{body:t.options.body,icon:t.options.icon||"./images/logo.png",badge:t.options.badge||"./images/logo.png"})}())})),self.addEventListener("notificationclick",(i=>{i.notification.close(),i.waitUntil(clients.openWindow(i.notification.data?.url||"./"))}));